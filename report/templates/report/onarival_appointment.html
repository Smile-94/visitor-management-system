<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Details</title>
    <style>
        .table-container {
            margin-bottom: 10px;
          }

        h2 {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
          }
        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            background-color: #e1f1fb;
            border-radius: 10px;
            font-size: 15px;
          }
          
          td {
            padding: 5px;
            text-align: left;
            border-bottom: 1px solid #000;
          }
          
          .label {
            width: 30%;
            background-color: #FFACAC;
            font-weight: bold;
            color: #000;
            text-align: right;
            border-radius: 10px 0 0 10px;
          }

          .profile-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            border-radius: 10px;
            font-size: 16px;
          }
          
          .photo {
            margin-right: 20px;
            margin-bottom: 5px;
          }
          
          .photo img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
          }
          
          .details {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            color: #6b5b95;
          }
          
          .designation {
            font-weight: bold;
            margin-bottom: 2px;
          }
          
          .department {
            font-style: italic;
            margin-bottom: 2px;
          }

          .signature-container {
            margin-top: 10px;
            align-items: center;
            max-width: 500px;
          }
          
          .signature-image {
            width: 150px;
            height: 100px;
            margin-top: 10px;
            margin-right: 20px;
          }
          
        
          .name {
            font-size: 16px;
            font-weight: bold;
          }
          
          .department {
            font-size: 18px;
          }
          
          

    </style>
</head>
<body>
    <div class="profile-container">
        <div class="photo">
          {% if appointment.photo %}
              <img src="{{ appointment.photo.url}}" alt="Appointment photo">
          {% else %}
              No photo available
          {% endif %}
          {% comment %} <img src="data:image/png;base64,{{ appointment.photo }}" alt="Profile Photo"> {% endcomment %}
        </div>
        <div class="details">
          <div class="designation"> {{appointment.request_by}}</div>
          <div class="designation"> {{appointment.occupation}}, {{appointment.designation}}</div>
          <div class="designation"> {{appointment.address}}</div>
        </div>
      </div>
      <div class="table-container">
        <h2>Profile Details</h2>
        <table>
            <tr>
              <td class="label">Visitor Name:</td>
              <td> {{appointment.request_by}}</td>
            </tr>
            <tr>
              <td class="label">Email:</td>
              <td> {{appointment.email_id}} </td>
            </tr>
            <tr>
              <td class="label">Phone:</td>
              <td> {{appointment.phone_no}} </td>
            </tr>
            <tr>
              <td class="label">NID</td>
              <td> {{appointment.national_id}} </td>
            </tr>
          </table>
      </div>
      <div class="table-container">
        <h2>Appointment Details</h2>
        <table>
            <tr>
              <td class="label">Employee Name:</td>
              <td> {{appointment.appointment_to.profile.first_name}} {{appointment.appointment_to.profile.last_name}}</td>
            </tr>
            <tr>
              <td class="label">Employee ID:</td>
              <td> {{appointment.appointment_to.employee_info.employee_id}} </td>
            </tr>
            <tr>
              <td class="label">Designation & Department</td>
              <td> {{appointment.appointment_to.employee_info.position.designation}}, {{appointment.appointment_to.employee_info.position.department}} </td>
            </tr>
            <tr>
              <td class="label">Appointment ID:</td>
              <td> {{appointment.appointment_id}} </td>
            </tr>
            <tr>
              <td class="label">Appointment Date</td>
              <td>{{appointment.appointment_date}} </td>
            </tr>
            <tr>
              <td class="label">Entry Time</td>
              <td> {{appointment.entering_time}} </td>
            </tr>
            <tr>
              <td class="label">Exit Time</td>
              <td> {{appointment.exit_time}} </td>
            </tr>
          </table>
      </div>
      <div class="signature-container">
        <h1>Issued By</h1>
        <img src="/media/{{appointment.issued_by.employee_info.signature}}" alt="Signature" class="signature-image">
        <div class="name-dept-container">
          <div class="name"> {{appointment.issued_by.profile.first_name}}  {{appointment.issued_by.profile.last_name}}</div>
        </div>
      </div>     
</body>
</html>